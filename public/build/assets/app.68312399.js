"serviceWorker"in navigator?navigator.serviceWorker.register(document.location.origin+"/service-worker.js").then(function(e){console.log("Service worker registration succeeded:",e)},function(e){console.log("Service worker registration failed:",e)}):console.log("Service workers are not supported.");$(document).ready(function(){$(".selectize-singular").selectize({}),$(".selectize--linked").selectize({onChange(e){window.location=e}})});$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});let v=document.querySelector(".menu"),m=document.querySelector(".menu__search");document.querySelector(".header__toggles-menu-button").addEventListener("click",()=>{document.body.style.overflowY="hidden",m.classList.remove("menu__search--visible"),v.classList.add("menu--visible")});document.querySelector(".menu__close-button").addEventListener("click",()=>{document.body.style.overflowY="auto",v.classList.remove("menu--visible")});document.querySelector(".header__toggles-search-button").addEventListener("click",()=>{document.body.style.overflowY="hidden",m.classList.add("menu__search--visible"),v.classList.add("menu--visible"),v.querySelector(".menu__search-input").focus()});document.querySelector(".menu__search-input").addEventListener("focus",()=>{m.classList.add("menu__search--visible")});document.querySelectorAll('[data-action="toggle-mobile-menu"]').forEach(e=>{e.addEventListener("click",t=>{document.querySelector(".mobile-menu").classList.toggle("mobile-menu--visible")})});document.querySelectorAll(".tab-button").forEach(e=>{e.addEventListener("click",t=>{let n=t.target,r=n.closest(".tab-buttons-container").querySelector(".tab-button--active"),a=document.querySelector(`[data-content-id="${n.dataset.targetId}"]`),l=a.closest(".tab-content-container").querySelector(".tab-content-item--active");n!==r&&(r&&r.classList.remove("tab-button--active"),n.classList.add("tab-button--active"),l&&l.classList.remove("tab-content-item--active"),a.classList.add("tab-content-item--active"))})});let h=document.querySelector(".menu__tab");h.querySelectorAll(".tab-button").forEach(e=>{e.addEventListener("dblclick",t=>{window.location.href=e.dataset.link})});let b=document.querySelector(".menu__search-results-container");m.querySelector(".spinner-container");document.querySelector(".menu__search-form").addEventListener("submit",e=>{e.preventDefault();let t=m.querySelector(".spinner-container");t.classList.add("spinner-container--visible"),$.ajax({type:"POST",enctype:"multipart/form-data",url:"/search",data:{keyword:document.querySelector(".menu__search-input").value},success:function(n){b.innerHTML=n,t.classList.remove("spinner-container--visible")},error:function(){t.classList.remove("spinner-container--visible"),console.log("Ajax search error!")}})});let _=$(".products-carousel");_.owlCarousel({loop:!0,margin:32,nav:!0,navText:['<span class="material-icons">west</span>','<span class="material-icons">east</span>'],dots:!1,responsive:{0:{items:1},991:{items:4}}});document.querySelectorAll(".accordion__item--active").forEach(e=>{let t=e.querySelector(".accordion__collapse");t.style.height=t.scrollHeight+"px"});document.querySelectorAll(".accordion__button").forEach(e=>{e.addEventListener("click",t=>{let n=t.target,o=n.closest(".accordion"),r=n.closest(".accordion__item"),a=r.querySelector(".accordion__collapse"),c=o.querySelector(".accordion__item--active");c&&c!==r&&(c.classList.remove("accordion__item--active"),c.querySelector(".accordion__collapse").style.height=null),a.clientHeight?(a.style.height=0,r.classList.remove("accordion__item--active")):(a.style.height=a.scrollHeight+"px",r.classList.add("accordion__item--active"))})});$(".counter-box").length&&$(".counter-box").appear(function(){var e=$(this),t=e.find(".counter-number").attr("data-stop"),n=parseInt(e.find(".counter-number").attr("data-speed"),10);e.hasClass("counted")||(e.addClass("counted"),$({countNum:e.find(".counter-number").text()}).animate({countNum:t},{duration:n,easing:"linear",step:function(){e.find(".counter-number").text(Math.floor(this.countNum))},complete:function(){e.find(".counter-number").text(this.countNum)}}))},{accY:0});document.querySelectorAll(".font-controller__radio").forEach(e=>{e.addEventListener("change",t=>{let n=t.target,o=document.querySelector(".post__body");if(n.checked==!0){let r="post__body--small-font",a="post__body--medium-font",c="post__body--large-font";switch(n.value){case"small":o.classList.remove(c),o.classList.remove(a),o.classList.add(r),document.cookie="fontSize=small";break;case"medium":o.classList.remove(r),o.classList.remove(c),o.classList.add(a),document.cookie="fontSize=medium";break;case"large":o.classList.remove(r),o.classList.remove(a),o.classList.add(c),document.cookie="fontSize=large";break}}})});let g=document.querySelectorAll(".plyr");g.forEach(e=>{new Plyr(e,{captions:{active:!0,language:"en"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","airplay","fullscreen"]})});g.forEach(e=>{e.addEventListener("play",t=>{let n=t.target;g.forEach(o=>{o!==n&&o.pause()})})});let f=document.querySelector("#magnifier-image");f&&(f.complete?p():f.addEventListener("load",p));function p(){L("magnifier-image",3)}function L(e,t){var n,o,r,a,c;n=document.getElementById(e),o=document.createElement("DIV"),o.setAttribute("class","img-magnifier-glass"),n.parentElement.insertBefore(o,n),o.style.backgroundImage="url('"+n.src+"')",o.style.backgroundRepeat="no-repeat",o.style.backgroundSize=n.width*t+"px "+n.height*t+"px",c=3,r=o.offsetWidth/2,a=o.offsetHeight/2,o.addEventListener("mousemove",l),n.addEventListener("mousemove",l),o.addEventListener("touchmove",l),n.addEventListener("touchmove",l);function l(u){var d,s,i;u.preventDefault(),d=y(u),s=d.x,i=d.y,s>n.width-r/t&&(s=n.width-r/t),s<r/t&&(s=r/t),i>n.height-a/t&&(i=n.height-a/t),i<a/t&&(i=a/t),o.style.left=s-r+"px",o.style.top=i-a+"px",o.style.backgroundPosition="-"+(s*t-r+c)+"px -"+(i*t-a+c)+"px"}function y(u){var d,s=0,i=0;return u=u||window.event,d=n.getBoundingClientRect(),s=u.pageX-d.left,i=u.pageY-d.top,s=s-window.pageXOffset,i=i-window.pageYOffset,{x:s,y:i}}}

"serviceWorker"in navigator?navigator.serviceWorker.register(document.location.origin+"/service-worker.js").then(function(e){console.log("Service worker registration succeeded:",e)},function(e){console.log("Service worker registration failed:",e)}):console.log("Service workers are not supported.");$(document).ready(function(){$(".selectize-singular").selectize({}),$(".selectize--linked").selectize({onChange(e){window.location=e}})});$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});let v=document.querySelector(".menu"),m=document.querySelector(".menu__search");document.querySelector(".header__toggles-menu-button").addEventListener("click",()=>{document.body.style.overflowY="hidden",m.classList.remove("menu__search--visible"),v.classList.add("menu--visible")});document.querySelector(".menu__close-button").addEventListener("click",()=>{document.body.style.overflowY="auto",v.classList.remove("menu--visible")});document.querySelector(".header__toggles-search-button").addEventListener("click",()=>{document.body.style.overflowY="hidden",m.classList.add("menu__search--visible"),v.classList.add("menu--visible"),v.querySelector(".menu__search-input").focus()});document.querySelector(".menu__search-input").addEventListener("focus",()=>{m.classList.add("menu__search--visible")});document.querySelectorAll('[data-action="toggle-mobile-menu"]').forEach(e=>{e.addEventListener("click",t=>{document.querySelector(".mobile-menu").classList.toggle("mobile-menu--visible")})});document.querySelectorAll(".tab-button").forEach(e=>{e.addEventListener("click",t=>{let n=t.target,o=n.closest(".tab-buttons-container").querySelector(".tab-button--active"),i=document.querySelector(`[data-content-id="${n.dataset.targetId}"]`),l=i.closest(".tab-content-container").querySelector(".tab-content-item--active");n!==o&&(o&&o.classList.remove("tab-button--active"),n.classList.add("tab-button--active"),l&&l.classList.remove("tab-content-item--active"),i.classList.add("tab-content-item--active"))})});let y=document.querySelector(".menu__tab");y.querySelectorAll(".tab-button").forEach(e=>{e.addEventListener("dblclick",t=>{window.location.href=e.dataset.link})});let b=document.querySelector(".menu__search-results-container");m.querySelector(".spinner-container");document.querySelector(".menu__search-form").addEventListener("submit",e=>{e.preventDefault();let t=m.querySelector(".spinner-container");t.classList.add("spinner-container--visible"),$.ajax({type:"POST",enctype:"multipart/form-data",url:"/search",data:{keyword:document.querySelector(".menu__search-input").value},success:function(n){b.innerHTML=n,t.classList.remove("spinner-container--visible")},error:function(){t.classList.remove("spinner-container--visible"),console.log("Ajax search error!")}})});let _=$(".products-carousel");_.owlCarousel({loop:!0,margin:32,nav:!0,navText:['<span class="material-icons">west</span>','<span class="material-icons">east</span>'],dots:!1,responsive:{0:{items:1},991:{items:4}}});document.querySelectorAll(".accordion__item--active").forEach(e=>{let t=e.querySelector(".accordion__collapse");t.style.height=t.scrollHeight+"px"});document.querySelectorAll(".accordion__button").forEach(e=>{e.addEventListener("click",t=>{let n=t.target,r=n.closest(".accordion"),o=n.closest(".accordion__item"),i=o.querySelector(".accordion__collapse"),s=r.querySelector(".accordion__item--active");s&&s!==o&&(s.classList.remove("accordion__item--active"),s.querySelector(".accordion__collapse").style.height=null),i.clientHeight?(i.style.height=0,o.classList.remove("accordion__item--active")):(i.style.height=i.scrollHeight+"px",o.classList.add("accordion__item--active"))})});$(".counter-box").length&&$(".counter-box").appear(function(){var e=$(this),t=e.find(".counter-number").attr("data-stop"),n=parseInt(e.find(".counter-number").attr("data-speed"),10);e.hasClass("counted")||(e.addClass("counted"),$({countNum:e.find(".counter-number").text()}).animate({countNum:t},{duration:n,easing:"linear",step:function(){e.find(".counter-number").text(Math.floor(this.countNum))},complete:function(){e.find(".counter-number").text(this.countNum)}}))},{accY:0});let g=document.querySelectorAll(".plyr");g.forEach(e=>{new Plyr(e,{captions:{active:!0,language:"en"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","airplay","fullscreen"]})});g.forEach(e=>{e.addEventListener("play",t=>{let n=t.target;g.forEach(r=>{r!==n&&r.pause()})})});let f=document.querySelector("#magnifier-image");f&&(f.complete?p():f.addEventListener("load",p));function p(){S("magnifier-image",3)}function S(e,t){var n,r,o,i,s;n=document.getElementById(e),r=document.createElement("DIV"),r.setAttribute("class","img-magnifier-glass"),n.parentElement.insertBefore(r,n),r.style.backgroundImage="url('"+n.src+"')",r.style.backgroundRepeat="no-repeat",r.style.backgroundSize=n.width*t+"px "+n.height*t+"px",s=3,o=r.offsetWidth/2,i=r.offsetHeight/2,r.addEventListener("mousemove",l),n.addEventListener("mousemove",l),r.addEventListener("touchmove",l),n.addEventListener("touchmove",l);function l(u){var d,a,c;u.preventDefault(),d=h(u),a=d.x,c=d.y,a>n.width-o/t&&(a=n.width-o/t),a<o/t&&(a=o/t),c>n.height-i/t&&(c=n.height-i/t),c<i/t&&(c=i/t),r.style.left=a-o+"px",r.style.top=c-i+"px",r.style.backgroundPosition="-"+(a*t-o+s)+"px -"+(c*t-i+s)+"px"}function h(u){var d,a=0,c=0;return u=u||window.event,d=n.getBoundingClientRect(),a=u.pageX-d.left,c=u.pageY-d.top,a=a-window.pageXOffset,c=c-window.pageYOffset,{x:a,y:c}}}
